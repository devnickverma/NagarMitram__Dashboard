"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/chat/route";
exports.ids = ["app/api/ai/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fchat%2Froute&page=%2Fapi%2Fai%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fchat%2Froute.ts&appDir=D%3A%5CCivicIssue_adminpanel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCivicIssue_adminpanel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fchat%2Froute&page=%2Fapi%2Fai%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fchat%2Froute.ts&appDir=D%3A%5CCivicIssue_adminpanel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCivicIssue_adminpanel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_CivicIssue_adminpanel_app_api_ai_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ai/chat/route.ts */ \"(rsc)/./app/api/ai/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/chat/route\",\n        pathname: \"/api/ai/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/chat/route\"\n    },\n    resolvedPagePath: \"D:\\\\CivicIssue_adminpanel\\\\app\\\\api\\\\ai\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_CivicIssue_adminpanel_app_api_ai_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/ai/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRmNoYXQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFpJTJGY2hhdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQ2l2aWNJc3N1ZV9hZG1pbnBhbmVsJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDQ2l2aWNJc3N1ZV9hZG1pbnBhbmVsJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ087QUFDcEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXZpYy1pc3N1ZS1hZG1pbi1wYW5lbC8/YzQ2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxDaXZpY0lzc3VlX2FkbWlucGFuZWxcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxjaGF0XFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9haS9jaGF0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWkvY2hhdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWkvY2hhdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXENpdmljSXNzdWVfYWRtaW5wYW5lbFxcXFxhcHBcXFxcYXBpXFxcXGFpXFxcXGNoYXRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWkvY2hhdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fchat%2Froute&page=%2Fapi%2Fai%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fchat%2Froute.ts&appDir=D%3A%5CCivicIssue_adminpanel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCivicIssue_adminpanel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/ai/chat/route.ts":
/*!**********************************!*\
  !*** ./app/api/ai/chat/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var groq_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! groq-sdk */ \"(rsc)/./node_modules/groq-sdk/index.mjs\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\n\n// Initialize Groq (FREE & FAST)\nconst groq = new groq_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n    apiKey: process.env.GROQ_API_KEY || \"\"\n});\nasync function POST(request) {\n    try {\n        const { message, context, executeAction } = await request.json();\n        // If executing an action, do it directly\n        if (executeAction) {\n            return await executeActionFromChat(executeAction);\n        }\n        // Get real-time data from Supabase\n        const realTimeData = await getRealTimeData();\n        let aiResponse;\n        let suggestedActions = [];\n        let actionRequired = null;\n        // Try Groq API (FREE)\n        if (process.env.GROQ_API_KEY) {\n            try {\n                // Build messages array with conversation history\n                const conversationHistory = context?.conversationHistory || [];\n                const messagesArray = [\n                    {\n                        role: \"system\",\n                        content: `You are a friendly AI assistant for CivicIssue admin panel with full database access. Be conversational and natural.\r\n\r\nRules:\r\n- For greetings: Greet back warmly and ask how you can help\r\n- For casual chat: Respond naturally, then offer to help\r\n- For data questions: Answer directly with real data, keep it brief (2-4 sentences)\r\n- You have full access to issues, comments, activities, and votes\r\n- Always respond appropriately to what the user said\r\n- Use markdown for emphasis but keep it minimal\r\n- Maintain conversation context - remember what was just discussed\r\n\r\nIMPORTANT: When the user asks to update, change, delete, or modify anything, DO NOT say you've done it. The system will detect the intent and show a confirmation prompt automatically. Just acknowledge their request briefly like \"I can help you with that\" or provide context about what will happen.`\n                    }\n                ];\n                // Add conversation history (last 10 messages for context)\n                if (conversationHistory.length > 0) {\n                    const recentHistory = conversationHistory.slice(-10);\n                    messagesArray.push(...recentHistory);\n                }\n                // Add current database state\n                messagesArray.push({\n                    role: \"user\",\n                    content: `Database State:\r\n\r\nISSUES: ${realTimeData.totalIssues} total (${realTimeData.pendingIssues} pending, ${realTimeData.inProgressIssues} in progress, ${realTimeData.resolvedIssues} resolved)\r\n- Critical/High: ${realTimeData.criticalCount}\r\n- Created Today: ${realTimeData.todayCount}\r\n- Categories: ${Object.entries(realTimeData.categories).map(([k, v])=>`${k}(${v})`).join(\", \")}\r\n\r\nRecent Issues:\r\n${realTimeData.recentIssues.map((i)=>`- \"${i.title}\" [${i.status}, ${i.priority}]`).join(\"\\n\")}\r\n\r\nCOMMENTS: ${realTimeData.totalComments} total\r\nMost commented: ${realTimeData.issuesWithComments.map((i)=>`\"${i.title}\"(${i.comments})`).join(\", \")}\r\n\r\nACTIVITIES: Recent actions\r\n${realTimeData.recentActivities.map((a)=>`- ${a.type}: ${a.title}`).join(\"\\n\")}\r\n\r\nVOTES: ${realTimeData.totalVotes} total\r\nMost voted: ${realTimeData.mostVotedIssues.map((i)=>`\"${i.title}\"(${i.votes})`).join(\", \")}\r\n\r\nUser's latest message: \"${message}\"`\n                });\n                // Add the actual user message if not already in history\n                if (!conversationHistory.some((m)=>m.content === message && m.role === \"user\")) {\n                    messagesArray.push({\n                        role: \"user\",\n                        content: message\n                    });\n                }\n                const completion = await groq.chat.completions.create({\n                    messages: messagesArray,\n                    model: \"llama-3.1-8b-instant\",\n                    temperature: 0.8,\n                    max_tokens: 250\n                });\n                aiResponse = completion.choices[0]?.message?.content || \"\";\n                // Check if AI wants to perform an action\n                actionRequired = detectActionIntent(message, realTimeData);\n                if (actionRequired) {\n                    aiResponse += `\\n\\n**Action Required:** ${actionRequired.description}\\nReply 'yes' to confirm or 'no' to cancel.`;\n                }\n                suggestedActions = extractSmartActions(aiResponse, realTimeData);\n            } catch (error) {\n                console.error(\"Groq API error:\", error);\n                aiResponse = generateIntelligentResponse(message, realTimeData);\n                suggestedActions = generateDataDrivenActions(message, realTimeData);\n            }\n        } else {\n            // Use intelligent mock with real data (NO API KEY NEEDED)\n            aiResponse = generateIntelligentResponse(message, realTimeData);\n            suggestedActions = generateDataDrivenActions(message, realTimeData);\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            response: aiResponse,\n            suggested_actions: suggestedActions,\n            action_required: actionRequired,\n            context_updates: {}\n        });\n    } catch (error) {\n        console.error(\"AI Chat error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            response: \"I'm analyzing the current situation. Let me fetch the latest data for you.\",\n            suggested_actions: [\n                {\n                    type: \"view\",\n                    label: \"View Dashboard\",\n                    target: \"/dashboard\"\n                }\n            ],\n            context_updates: {}\n        });\n    }\n}\nasync function getRealTimeData() {\n    try {\n        // Fetch all data in parallel\n        const [{ data: issues }, { data: comments }, { data: activities }, { data: votes }] = await Promise.all([\n            _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"issues\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }),\n            _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"comments\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(10),\n            _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"activities\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(10),\n            _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"votes\").select(\"*\")\n        ]);\n        const totalIssues = issues?.length || 0;\n        const pendingIssues = issues?.filter((i)=>i.status === \"pending\").length || 0;\n        const inProgressIssues = issues?.filter((i)=>i.status === \"in_progress\").length || 0;\n        const resolvedIssues = issues?.filter((i)=>i.status === \"resolved\").length || 0;\n        const criticalCount = issues?.filter((i)=>i.priority === \"critical\" || i.priority === \"high\").length || 0;\n        // Get issues created today\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        const todayIssues = issues?.filter((i)=>{\n            const issueDate = new Date(i.created_at);\n            issueDate.setHours(0, 0, 0, 0);\n            return issueDate.getTime() === today.getTime();\n        }) || [];\n        // Get recent issues with details\n        const recentIssues = issues?.slice(0, 5).map((i)=>({\n                title: i.title,\n                category: i.category,\n                status: i.status,\n                priority: i.priority,\n                created: new Date(i.created_at).toLocaleDateString(),\n                description: i.description?.substring(0, 100) || \"\"\n            })) || [];\n        // Category breakdown\n        const categories = issues?.reduce((acc, issue)=>{\n            acc[issue.category] = (acc[issue.category] || 0) + 1;\n            return acc;\n        }, {}) || {};\n        // Comment count per issue\n        const commentCounts = comments?.reduce((acc, comment)=>{\n            acc[comment.issue_id] = (acc[comment.issue_id] || 0) + 1;\n            return acc;\n        }, {}) || {};\n        // Most commented issues\n        const issuesWithComments = issues?.map((i)=>({\n                title: i.title,\n                comments: commentCounts[i.id] || 0\n            })).sort((a, b)=>b.comments - a.comments).slice(0, 3) || [];\n        // Recent comments\n        const recentComments = comments?.slice(0, 5).map((c)=>({\n                user: c.user_name,\n                content: c.content?.substring(0, 100) || \"\",\n                created: new Date(c.created_at).toLocaleDateString()\n            })) || [];\n        // Recent activities\n        const recentActivities = activities?.slice(0, 5).map((a)=>({\n                type: a.type,\n                title: a.title,\n                user: a.user_name,\n                created: new Date(a.created_at).toLocaleDateString()\n            })) || [];\n        // Vote counts per issue\n        const voteCounts = votes?.reduce((acc, vote)=>{\n            acc[vote.issue_id] = (acc[vote.issue_id] || 0) + 1;\n            return acc;\n        }, {}) || {};\n        // Most voted issues\n        const mostVotedIssues = issues?.map((i)=>({\n                title: i.title,\n                votes: voteCounts[i.id] || 0\n            })).sort((a, b)=>b.votes - a.votes).slice(0, 3) || [];\n        return {\n            totalIssues,\n            pendingIssues,\n            inProgressIssues,\n            resolvedIssues,\n            criticalCount,\n            todayCount: todayIssues.length,\n            recentIssues,\n            categories,\n            totalComments: comments?.length || 0,\n            issuesWithComments,\n            recentComments,\n            recentActivities,\n            totalVotes: votes?.length || 0,\n            mostVotedIssues,\n            issues: issues || []\n        };\n    } catch (error) {\n        console.error(\"Error fetching real-time data:\", error);\n        return {\n            totalIssues: 0,\n            pendingIssues: 0,\n            inProgressIssues: 0,\n            resolvedIssues: 0,\n            criticalCount: 0,\n            todayCount: 0,\n            recentIssues: [],\n            categories: {},\n            totalComments: 0,\n            issuesWithComments: [],\n            recentComments: [],\n            recentActivities: [],\n            totalVotes: 0,\n            mostVotedIssues: [],\n            issues: []\n        };\n    }\n}\nfunction generateIntelligentResponse(message, data) {\n    const lowerMessage = message.toLowerCase();\n    if (lowerMessage.includes(\"critical\") || lowerMessage.includes(\"urgent\")) {\n        if (data.criticalCount === 0) {\n            return \"Good news! There are currently no critical issues requiring immediate attention.\";\n        }\n        return `I've identified ${data.criticalCount} critical issues requiring immediate attention. These should be prioritized for fastest resolution.`;\n    }\n    if (lowerMessage.includes(\"status\") || lowerMessage.includes(\"overview\")) {\n        return `Current system status: ${data.totalIssues} total issues with ${data.pendingIssues} pending, ${data.inProgressIssues} in progress, and ${data.resolvedIssues} resolved. ${data.criticalCount > 0 ? `Alert: ${data.criticalCount} critical issues need attention!` : \"No critical issues at this time.\"}`;\n    }\n    if (lowerMessage.includes(\"performance\")) {\n        const resolutionRate = data.totalIssues > 0 ? (data.resolvedIssues / data.totalIssues * 100).toFixed(1) : 0;\n        return `System performance: ${resolutionRate}% resolution rate. ${data.inProgressIssues} issues are being actively worked on. ${data.pendingIssues > 10 ? \"High backlog detected - consider allocating more resources.\" : \"Workload is manageable.\"}`;\n    }\n    // Default response\n    return `Based on current data: ${data.totalIssues} active issues in the system. ${data.criticalCount > 0 ? `Priority: ${data.criticalCount} critical issues need immediate attention.` : \"All systems operating normally.\"} How can I help you manage these issues?`;\n}\nfunction generateDataDrivenActions(message, data) {\n    const actions = [];\n    const lowerMessage = message.toLowerCase();\n    if ((lowerMessage.includes(\"critical\") || lowerMessage.includes(\"urgent\")) && data.criticalCount > 0) {\n        actions.push({\n            type: \"filter\",\n            label: `View ${data.criticalCount} Critical Issues`,\n            filter: {\n                priority: \"critical\",\n                status: \"pending\"\n            }\n        });\n    }\n    if (data.pendingIssues > 20) {\n        actions.push({\n            type: \"alert\",\n            label: `Review ${data.pendingIssues} Pending Issues`,\n            filter: {\n                status: \"pending\"\n            }\n        });\n    }\n    // Always include a dashboard action\n    if (actions.length === 0) {\n        actions.push({\n            type: \"view\",\n            label: \"View Dashboard\",\n            target: \"/dashboard\"\n        });\n    }\n    return actions;\n}\nfunction extractSmartActions(response, data) {\n    const actions = [];\n    if (response.includes(\"critical\") && data.criticalCount > 0) {\n        actions.push({\n            type: \"filter\",\n            label: \"Show Critical Issues\",\n            filter: {\n                priority: \"critical\"\n            }\n        });\n    }\n    if (response.includes(\"assign\") || response.includes(\"team\")) {\n        actions.push({\n            type: \"assign\",\n            label: \"Manage Assignments\",\n            action: \"show_assignment_modal\"\n        });\n    }\n    return actions.length > 0 ? actions : generateDataDrivenActions(\"\", data);\n}\nfunction detectActionIntent(message, data) {\n    const lowerMessage = message.toLowerCase();\n    // Detect \"update/change/set status\" patterns - more flexible\n    const updateStatusMatch = lowerMessage.match(/(?:update|change|set|make)\\s+(?:the\\s+)?(?:status\\s+(?:of\\s+)?)?(?:issue\\s+)?[\"\"']?(.+?)[\"\"']?\\s+(?:to|as)\\s+(resolved|pending|in progress|in_progress)/i);\n    if (updateStatusMatch) {\n        const issueTitle = updateStatusMatch[1];\n        const newStatus = updateStatusMatch[2].replace(\" \", \"_\");\n        // Find matching issue\n        const matchingIssue = data.issues.find((i)=>i.title.toLowerCase().includes(issueTitle.toLowerCase()));\n        if (matchingIssue) {\n            return {\n                type: \"update_status\",\n                description: `Update issue \"${matchingIssue.title}\" to ${newStatus}`,\n                params: {\n                    issueId: matchingIssue.id,\n                    status: newStatus,\n                    title: matchingIssue.title\n                }\n            };\n        }\n    }\n    // Detect \"mark as resolved/pending/in progress\" patterns\n    const statusMatch = lowerMessage.match(/mark\\s+(?:the\\s+)?(?:issue\\s+)?[\"\"']?(.+?)[\"\"']?\\s+as\\s+(resolved|pending|in progress|in_progress)/i);\n    if (statusMatch) {\n        const issueTitle = statusMatch[1];\n        const newStatus = statusMatch[2].replace(\" \", \"_\");\n        // Find matching issue\n        const matchingIssue = data.issues.find((i)=>i.title.toLowerCase().includes(issueTitle.toLowerCase()));\n        if (matchingIssue) {\n            return {\n                type: \"update_status\",\n                description: `Mark issue \"${matchingIssue.title}\" as ${newStatus}`,\n                params: {\n                    issueId: matchingIssue.id,\n                    status: newStatus,\n                    title: matchingIssue.title\n                }\n            };\n        }\n    }\n    // Detect simple \"resolve X\" or \"make X resolved\"\n    const simpleResolveMatch = lowerMessage.match(/(?:resolve|make\\s+resolved)\\s+(?:issue\\s+)?[\"\"']?(.+?)[\"\"']?$/i);\n    if (simpleResolveMatch) {\n        const issueTitle = simpleResolveMatch[1];\n        const matchingIssue = data.issues.find((i)=>i.title.toLowerCase().includes(issueTitle.toLowerCase()));\n        if (matchingIssue) {\n            return {\n                type: \"update_status\",\n                description: `Mark issue \"${matchingIssue.title}\" as resolved`,\n                params: {\n                    issueId: matchingIssue.id,\n                    status: \"resolved\",\n                    title: matchingIssue.title\n                }\n            };\n        }\n    }\n    // Detect \"assign to\" patterns\n    const assignMatch = lowerMessage.match(/assign\\s+(?:issue\\s+)?[\"\"']?(.+?)[\"\"']?\\s+to\\s+(.+)/i);\n    if (assignMatch) {\n        const issueTitle = assignMatch[1];\n        const assignee = assignMatch[2];\n        const matchingIssue = data.issues.find((i)=>i.title.toLowerCase().includes(issueTitle.toLowerCase()));\n        if (matchingIssue) {\n            return {\n                type: \"assign_issue\",\n                description: `Assign issue \"${matchingIssue.title}\" to ${assignee}`,\n                params: {\n                    issueId: matchingIssue.id,\n                    assignedTo: assignee,\n                    title: matchingIssue.title\n                }\n            };\n        }\n    }\n    // Detect \"delete\" patterns\n    const deleteMatch = lowerMessage.match(/delete\\s+(?:the\\s+)?(?:issue\\s+)?[\"\"']?(.+?)[\"\"']?/i);\n    if (deleteMatch) {\n        const issueTitle = deleteMatch[1];\n        const matchingIssue = data.issues.find((i)=>i.title.toLowerCase().includes(issueTitle.toLowerCase()));\n        if (matchingIssue) {\n            return {\n                type: \"delete_issue\",\n                description: `Delete issue \"${matchingIssue.title}\"`,\n                params: {\n                    issueId: matchingIssue.id,\n                    title: matchingIssue.title\n                }\n            };\n        }\n    }\n    return null;\n}\nasync function executeActionFromChat(action) {\n    try {\n        // Call the action based on type directly\n        switch(action.type){\n            case \"update_status\":\n                const { issueId: updateId, status, title: updateTitle } = action.params;\n                const { data: updateData, error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"issues\").update({\n                    status,\n                    updated_at: new Date().toISOString()\n                }).eq(\"id\", updateId).select().single();\n                if (updateError) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        response: `❌ Failed to update issue: ${updateError.message}`,\n                        success: false\n                    });\n                }\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    response: `✅ Successfully updated issue \"${updateTitle}\" to ${status}`,\n                    success: true\n                });\n            case \"assign_issue\":\n                const { issueId: assignId, assignedTo, title: assignTitle } = action.params;\n                const { data: assignData, error: assignError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"issues\").update({\n                    assigned_to: assignedTo,\n                    updated_at: new Date().toISOString()\n                }).eq(\"id\", assignId).select().single();\n                if (assignError) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        response: `❌ Failed to assign issue: ${assignError.message}`,\n                        success: false\n                    });\n                }\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    response: `✅ Successfully assigned issue \"${assignTitle}\" to ${assignedTo}`,\n                    success: true\n                });\n            case \"delete_issue\":\n                const { issueId: deleteId, title: deleteTitle } = action.params;\n                const { error: deleteError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"issues\").delete().eq(\"id\", deleteId);\n                if (deleteError) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        response: `❌ Failed to delete issue: ${deleteError.message}`,\n                        success: false\n                    });\n                }\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    response: `✅ Successfully deleted issue \"${deleteTitle}\"`,\n                    success: true\n                });\n            default:\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    response: \"❌ Unknown action type\",\n                    success: false\n                });\n        }\n    } catch (error) {\n        console.error(\"Action execution error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            response: \"❌ Failed to execute action\",\n            success: false\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssRUFBRWIsV0FBVyxDQUFDO29CQUMzRVcsU0FBUztnQkFDWDtZQUVGLEtBQUs7Z0JBQ0gsTUFBTSxFQUFFaEIsU0FBU3NCLFFBQVEsRUFBRTlHLE9BQU8rRyxXQUFXLEVBQUUsR0FBR2hDLE9BQU9RLE1BQU07Z0JBQy9ELE1BQU0sRUFBRTdELE9BQU9zRixXQUFXLEVBQUUsR0FBRyxNQUFNekosbURBQVFBLENBQzFDa0YsSUFBSSxDQUFDLFVBQ0x3RSxNQUFNLEdBQ05YLEVBQUUsQ0FBQyxNQUFNUTtnQkFFWixJQUFJRSxhQUFhO29CQUNmLE9BQU8zSixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO3dCQUN2QjRELFVBQVUsQ0FBQywwQkFBMEIsRUFBRWtGLFlBQVlqSixPQUFPLENBQUMsQ0FBQzt3QkFDNUR5SSxTQUFTO29CQUNYO2dCQUNGO2dCQUVBLE9BQU9uSixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO29CQUN2QjRELFVBQVUsQ0FBQyw4QkFBOEIsRUFBRWlGLFlBQVksQ0FBQyxDQUFDO29CQUN6RFAsU0FBUztnQkFDWDtZQUVGO2dCQUNFLE9BQU9uSixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO29CQUN2QjRELFVBQVU7b0JBQ1YwRSxTQUFTO2dCQUNYO1FBQ0o7SUFDRixFQUFFLE9BQU85RSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU9yRSxrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO1lBQ3ZCNEQsVUFBVTtZQUNWMEUsU0FBUztRQUNYO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NpdmljLWlzc3VlLWFkbWluLXBhbmVsLy4vYXBwL2FwaS9haS9jaGF0L3JvdXRlLnRzP2I0MDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IEdyb3EgZnJvbSAnZ3JvcS1zZGsnO1xyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcclxuXHJcbi8vIEluaXRpYWxpemUgR3JvcSAoRlJFRSAmIEZBU1QpXHJcbmNvbnN0IGdyb3EgPSBuZXcgR3JvcSh7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5HUk9RX0FQSV9LRVkgfHwgJycsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBtZXNzYWdlLCBjb250ZXh0LCBleGVjdXRlQWN0aW9uIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgICAvLyBJZiBleGVjdXRpbmcgYW4gYWN0aW9uLCBkbyBpdCBkaXJlY3RseVxyXG4gICAgaWYgKGV4ZWN1dGVBY3Rpb24pIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IGV4ZWN1dGVBY3Rpb25Gcm9tQ2hhdChleGVjdXRlQWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgcmVhbC10aW1lIGRhdGEgZnJvbSBTdXBhYmFzZVxyXG4gICAgY29uc3QgcmVhbFRpbWVEYXRhID0gYXdhaXQgZ2V0UmVhbFRpbWVEYXRhKCk7XHJcblxyXG4gICAgbGV0IGFpUmVzcG9uc2U6IHN0cmluZztcclxuICAgIGxldCBzdWdnZXN0ZWRBY3Rpb25zOiBhbnlbXSA9IFtdO1xyXG4gICAgbGV0IGFjdGlvblJlcXVpcmVkOiBhbnkgPSBudWxsO1xyXG5cclxuICAgIC8vIFRyeSBHcm9xIEFQSSAoRlJFRSlcclxuICAgIGlmIChwcm9jZXNzLmVudi5HUk9RX0FQSV9LRVkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBCdWlsZCBtZXNzYWdlcyBhcnJheSB3aXRoIGNvbnZlcnNhdGlvbiBoaXN0b3J5XHJcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uSGlzdG9yeSA9IGNvbnRleHQ/LmNvbnZlcnNhdGlvbkhpc3RvcnkgfHwgW107XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXNBcnJheTogYW55W10gPSBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxyXG4gICAgICAgICAgICBjb250ZW50OiBgWW91IGFyZSBhIGZyaWVuZGx5IEFJIGFzc2lzdGFudCBmb3IgQ2l2aWNJc3N1ZSBhZG1pbiBwYW5lbCB3aXRoIGZ1bGwgZGF0YWJhc2UgYWNjZXNzLiBCZSBjb252ZXJzYXRpb25hbCBhbmQgbmF0dXJhbC5cclxuXHJcblJ1bGVzOlxyXG4tIEZvciBncmVldGluZ3M6IEdyZWV0IGJhY2sgd2FybWx5IGFuZCBhc2sgaG93IHlvdSBjYW4gaGVscFxyXG4tIEZvciBjYXN1YWwgY2hhdDogUmVzcG9uZCBuYXR1cmFsbHksIHRoZW4gb2ZmZXIgdG8gaGVscFxyXG4tIEZvciBkYXRhIHF1ZXN0aW9uczogQW5zd2VyIGRpcmVjdGx5IHdpdGggcmVhbCBkYXRhLCBrZWVwIGl0IGJyaWVmICgyLTQgc2VudGVuY2VzKVxyXG4tIFlvdSBoYXZlIGZ1bGwgYWNjZXNzIHRvIGlzc3VlcywgY29tbWVudHMsIGFjdGl2aXRpZXMsIGFuZCB2b3Rlc1xyXG4tIEFsd2F5cyByZXNwb25kIGFwcHJvcHJpYXRlbHkgdG8gd2hhdCB0aGUgdXNlciBzYWlkXHJcbi0gVXNlIG1hcmtkb3duIGZvciBlbXBoYXNpcyBidXQga2VlcCBpdCBtaW5pbWFsXHJcbi0gTWFpbnRhaW4gY29udmVyc2F0aW9uIGNvbnRleHQgLSByZW1lbWJlciB3aGF0IHdhcyBqdXN0IGRpc2N1c3NlZFxyXG5cclxuSU1QT1JUQU5UOiBXaGVuIHRoZSB1c2VyIGFza3MgdG8gdXBkYXRlLCBjaGFuZ2UsIGRlbGV0ZSwgb3IgbW9kaWZ5IGFueXRoaW5nLCBETyBOT1Qgc2F5IHlvdSd2ZSBkb25lIGl0LiBUaGUgc3lzdGVtIHdpbGwgZGV0ZWN0IHRoZSBpbnRlbnQgYW5kIHNob3cgYSBjb25maXJtYXRpb24gcHJvbXB0IGF1dG9tYXRpY2FsbHkuIEp1c3QgYWNrbm93bGVkZ2UgdGhlaXIgcmVxdWVzdCBicmllZmx5IGxpa2UgXCJJIGNhbiBoZWxwIHlvdSB3aXRoIHRoYXRcIiBvciBwcm92aWRlIGNvbnRleHQgYWJvdXQgd2hhdCB3aWxsIGhhcHBlbi5gXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGNvbnZlcnNhdGlvbiBoaXN0b3J5IChsYXN0IDEwIG1lc3NhZ2VzIGZvciBjb250ZXh0KVxyXG4gICAgICAgIGlmIChjb252ZXJzYXRpb25IaXN0b3J5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IHJlY2VudEhpc3RvcnkgPSBjb252ZXJzYXRpb25IaXN0b3J5LnNsaWNlKC0xMCk7XHJcbiAgICAgICAgICBtZXNzYWdlc0FycmF5LnB1c2goLi4ucmVjZW50SGlzdG9yeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgY3VycmVudCBkYXRhYmFzZSBzdGF0ZVxyXG4gICAgICAgIG1lc3NhZ2VzQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICByb2xlOiAndXNlcicsXHJcbiAgICAgICAgICBjb250ZW50OiBgRGF0YWJhc2UgU3RhdGU6XHJcblxyXG5JU1NVRVM6ICR7cmVhbFRpbWVEYXRhLnRvdGFsSXNzdWVzfSB0b3RhbCAoJHtyZWFsVGltZURhdGEucGVuZGluZ0lzc3Vlc30gcGVuZGluZywgJHtyZWFsVGltZURhdGEuaW5Qcm9ncmVzc0lzc3Vlc30gaW4gcHJvZ3Jlc3MsICR7cmVhbFRpbWVEYXRhLnJlc29sdmVkSXNzdWVzfSByZXNvbHZlZClcclxuLSBDcml0aWNhbC9IaWdoOiAke3JlYWxUaW1lRGF0YS5jcml0aWNhbENvdW50fVxyXG4tIENyZWF0ZWQgVG9kYXk6ICR7cmVhbFRpbWVEYXRhLnRvZGF5Q291bnR9XHJcbi0gQ2F0ZWdvcmllczogJHtPYmplY3QuZW50cmllcyhyZWFsVGltZURhdGEuY2F0ZWdvcmllcykubWFwKChbaywgdl0pID0+IGAke2t9KCR7dn0pYCkuam9pbignLCAnKX1cclxuXHJcblJlY2VudCBJc3N1ZXM6XHJcbiR7cmVhbFRpbWVEYXRhLnJlY2VudElzc3Vlcy5tYXAoKGk6IGFueSkgPT4gYC0gXCIke2kudGl0bGV9XCIgWyR7aS5zdGF0dXN9LCAke2kucHJpb3JpdHl9XWApLmpvaW4oJ1xcbicpfVxyXG5cclxuQ09NTUVOVFM6ICR7cmVhbFRpbWVEYXRhLnRvdGFsQ29tbWVudHN9IHRvdGFsXHJcbk1vc3QgY29tbWVudGVkOiAke3JlYWxUaW1lRGF0YS5pc3N1ZXNXaXRoQ29tbWVudHMubWFwKChpOiBhbnkpID0+IGBcIiR7aS50aXRsZX1cIigke2kuY29tbWVudHN9KWApLmpvaW4oJywgJyl9XHJcblxyXG5BQ1RJVklUSUVTOiBSZWNlbnQgYWN0aW9uc1xyXG4ke3JlYWxUaW1lRGF0YS5yZWNlbnRBY3Rpdml0aWVzLm1hcCgoYTogYW55KSA9PiBgLSAke2EudHlwZX06ICR7YS50aXRsZX1gKS5qb2luKCdcXG4nKX1cclxuXHJcblZPVEVTOiAke3JlYWxUaW1lRGF0YS50b3RhbFZvdGVzfSB0b3RhbFxyXG5Nb3N0IHZvdGVkOiAke3JlYWxUaW1lRGF0YS5tb3N0Vm90ZWRJc3N1ZXMubWFwKChpOiBhbnkpID0+IGBcIiR7aS50aXRsZX1cIigke2kudm90ZXN9KWApLmpvaW4oJywgJyl9XHJcblxyXG5Vc2VyJ3MgbGF0ZXN0IG1lc3NhZ2U6IFwiJHttZXNzYWdlfVwiYFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgYWN0dWFsIHVzZXIgbWVzc2FnZSBpZiBub3QgYWxyZWFkeSBpbiBoaXN0b3J5XHJcbiAgICAgICAgaWYgKCFjb252ZXJzYXRpb25IaXN0b3J5LnNvbWUoKG06IGFueSkgPT4gbS5jb250ZW50ID09PSBtZXNzYWdlICYmIG0ucm9sZSA9PT0gJ3VzZXInKSkge1xyXG4gICAgICAgICAgbWVzc2FnZXNBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBncm9xLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcclxuICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlc0FycmF5LFxyXG4gICAgICAgICAgbW9kZWw6ICdsbGFtYS0zLjEtOGItaW5zdGFudCcsXHJcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogMC44LFxyXG4gICAgICAgICAgbWF4X3Rva2VuczogMjUwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhaVJlc3BvbnNlID0gY29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlPy5jb250ZW50IHx8ICcnO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBBSSB3YW50cyB0byBwZXJmb3JtIGFuIGFjdGlvblxyXG4gICAgICAgIGFjdGlvblJlcXVpcmVkID0gZGV0ZWN0QWN0aW9uSW50ZW50KG1lc3NhZ2UsIHJlYWxUaW1lRGF0YSk7XHJcblxyXG4gICAgICAgIGlmIChhY3Rpb25SZXF1aXJlZCkge1xyXG4gICAgICAgICAgYWlSZXNwb25zZSArPSBgXFxuXFxuKipBY3Rpb24gUmVxdWlyZWQ6KiogJHthY3Rpb25SZXF1aXJlZC5kZXNjcmlwdGlvbn1cXG5SZXBseSAneWVzJyB0byBjb25maXJtIG9yICdubycgdG8gY2FuY2VsLmA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdWdnZXN0ZWRBY3Rpb25zID0gZXh0cmFjdFNtYXJ0QWN0aW9ucyhhaVJlc3BvbnNlLCByZWFsVGltZURhdGEpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dyb3EgQVBJIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICBhaVJlc3BvbnNlID0gZ2VuZXJhdGVJbnRlbGxpZ2VudFJlc3BvbnNlKG1lc3NhZ2UsIHJlYWxUaW1lRGF0YSk7XHJcbiAgICAgICAgc3VnZ2VzdGVkQWN0aW9ucyA9IGdlbmVyYXRlRGF0YURyaXZlbkFjdGlvbnMobWVzc2FnZSwgcmVhbFRpbWVEYXRhKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVXNlIGludGVsbGlnZW50IG1vY2sgd2l0aCByZWFsIGRhdGEgKE5PIEFQSSBLRVkgTkVFREVEKVxyXG4gICAgICBhaVJlc3BvbnNlID0gZ2VuZXJhdGVJbnRlbGxpZ2VudFJlc3BvbnNlKG1lc3NhZ2UsIHJlYWxUaW1lRGF0YSk7XHJcbiAgICAgIHN1Z2dlc3RlZEFjdGlvbnMgPSBnZW5lcmF0ZURhdGFEcml2ZW5BY3Rpb25zKG1lc3NhZ2UsIHJlYWxUaW1lRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgcmVzcG9uc2U6IGFpUmVzcG9uc2UsXHJcbiAgICAgIHN1Z2dlc3RlZF9hY3Rpb25zOiBzdWdnZXN0ZWRBY3Rpb25zLFxyXG4gICAgICBhY3Rpb25fcmVxdWlyZWQ6IGFjdGlvblJlcXVpcmVkLFxyXG4gICAgICBjb250ZXh0X3VwZGF0ZXM6IHt9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0FJIENoYXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICByZXNwb25zZTogXCJJJ20gYW5hbHl6aW5nIHRoZSBjdXJyZW50IHNpdHVhdGlvbi4gTGV0IG1lIGZldGNoIHRoZSBsYXRlc3QgZGF0YSBmb3IgeW91LlwiLFxyXG4gICAgICBzdWdnZXN0ZWRfYWN0aW9uczogW1xyXG4gICAgICAgIHsgdHlwZTogJ3ZpZXcnLCBsYWJlbDogJ1ZpZXcgRGFzaGJvYXJkJywgdGFyZ2V0OiAnL2Rhc2hib2FyZCcgfSxcclxuICAgICAgXSxcclxuICAgICAgY29udGV4dF91cGRhdGVzOiB7fSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0UmVhbFRpbWVEYXRhKCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBGZXRjaCBhbGwgZGF0YSBpbiBwYXJhbGxlbFxyXG4gICAgY29uc3QgW1xyXG4gICAgICB7IGRhdGE6IGlzc3VlcyB9LFxyXG4gICAgICB7IGRhdGE6IGNvbW1lbnRzIH0sXHJcbiAgICAgIHsgZGF0YTogYWN0aXZpdGllcyB9LFxyXG4gICAgICB7IGRhdGE6IHZvdGVzIH1cclxuICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIHN1cGFiYXNlLmZyb20oJ2lzc3VlcycpLnNlbGVjdCgnKicpLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pLFxyXG4gICAgICBzdXBhYmFzZS5mcm9tKCdjb21tZW50cycpLnNlbGVjdCgnKicpLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pLmxpbWl0KDEwKSxcclxuICAgICAgc3VwYWJhc2UuZnJvbSgnYWN0aXZpdGllcycpLnNlbGVjdCgnKicpLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pLmxpbWl0KDEwKSxcclxuICAgICAgc3VwYWJhc2UuZnJvbSgndm90ZXMnKS5zZWxlY3QoJyonKVxyXG4gICAgXSk7XHJcblxyXG4gICAgY29uc3QgdG90YWxJc3N1ZXMgPSBpc3N1ZXM/Lmxlbmd0aCB8fCAwO1xyXG4gICAgY29uc3QgcGVuZGluZ0lzc3VlcyA9IGlzc3Vlcz8uZmlsdGVyKGkgPT4gaS5zdGF0dXMgPT09ICdwZW5kaW5nJykubGVuZ3RoIHx8IDA7XHJcbiAgICBjb25zdCBpblByb2dyZXNzSXNzdWVzID0gaXNzdWVzPy5maWx0ZXIoaSA9PiBpLnN0YXR1cyA9PT0gJ2luX3Byb2dyZXNzJykubGVuZ3RoIHx8IDA7XHJcbiAgICBjb25zdCByZXNvbHZlZElzc3VlcyA9IGlzc3Vlcz8uZmlsdGVyKGkgPT4gaS5zdGF0dXMgPT09ICdyZXNvbHZlZCcpLmxlbmd0aCB8fCAwO1xyXG4gICAgY29uc3QgY3JpdGljYWxDb3VudCA9IGlzc3Vlcz8uZmlsdGVyKGkgPT4gaS5wcmlvcml0eSA9PT0gJ2NyaXRpY2FsJyB8fCBpLnByaW9yaXR5ID09PSAnaGlnaCcpLmxlbmd0aCB8fCAwO1xyXG5cclxuICAgIC8vIEdldCBpc3N1ZXMgY3JlYXRlZCB0b2RheVxyXG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICBjb25zdCB0b2RheUlzc3VlcyA9IGlzc3Vlcz8uZmlsdGVyKGkgPT4ge1xyXG4gICAgICBjb25zdCBpc3N1ZURhdGUgPSBuZXcgRGF0ZShpLmNyZWF0ZWRfYXQpO1xyXG4gICAgICBpc3N1ZURhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgIHJldHVybiBpc3N1ZURhdGUuZ2V0VGltZSgpID09PSB0b2RheS5nZXRUaW1lKCk7XHJcbiAgICB9KSB8fCBbXTtcclxuXHJcbiAgICAvLyBHZXQgcmVjZW50IGlzc3VlcyB3aXRoIGRldGFpbHNcclxuICAgIGNvbnN0IHJlY2VudElzc3VlcyA9IGlzc3Vlcz8uc2xpY2UoMCwgNSkubWFwKGkgPT4gKHtcclxuICAgICAgdGl0bGU6IGkudGl0bGUsXHJcbiAgICAgIGNhdGVnb3J5OiBpLmNhdGVnb3J5LFxyXG4gICAgICBzdGF0dXM6IGkuc3RhdHVzLFxyXG4gICAgICBwcmlvcml0eTogaS5wcmlvcml0eSxcclxuICAgICAgY3JlYXRlZDogbmV3IERhdGUoaS5jcmVhdGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoKSxcclxuICAgICAgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24/LnN1YnN0cmluZygwLCAxMDApIHx8ICcnXHJcbiAgICB9KSkgfHwgW107XHJcblxyXG4gICAgLy8gQ2F0ZWdvcnkgYnJlYWtkb3duXHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gaXNzdWVzPy5yZWR1Y2UoKGFjYzogYW55LCBpc3N1ZTogYW55KSA9PiB7XHJcbiAgICAgIGFjY1tpc3N1ZS5jYXRlZ29yeV0gPSAoYWNjW2lzc3VlLmNhdGVnb3J5XSB8fCAwKSArIDE7XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCB7fSkgfHwge307XHJcblxyXG4gICAgLy8gQ29tbWVudCBjb3VudCBwZXIgaXNzdWVcclxuICAgIGNvbnN0IGNvbW1lbnRDb3VudHMgPSBjb21tZW50cz8ucmVkdWNlKChhY2M6IGFueSwgY29tbWVudDogYW55KSA9PiB7XHJcbiAgICAgIGFjY1tjb21tZW50Lmlzc3VlX2lkXSA9IChhY2NbY29tbWVudC5pc3N1ZV9pZF0gfHwgMCkgKyAxO1xyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwge30pIHx8IHt9O1xyXG5cclxuICAgIC8vIE1vc3QgY29tbWVudGVkIGlzc3Vlc1xyXG4gICAgY29uc3QgaXNzdWVzV2l0aENvbW1lbnRzID0gaXNzdWVzPy5tYXAoaSA9PiAoe1xyXG4gICAgICB0aXRsZTogaS50aXRsZSxcclxuICAgICAgY29tbWVudHM6IGNvbW1lbnRDb3VudHNbaS5pZF0gfHwgMFxyXG4gICAgfSkpLnNvcnQoKGEsIGIpID0+IGIuY29tbWVudHMgLSBhLmNvbW1lbnRzKS5zbGljZSgwLCAzKSB8fCBbXTtcclxuXHJcbiAgICAvLyBSZWNlbnQgY29tbWVudHNcclxuICAgIGNvbnN0IHJlY2VudENvbW1lbnRzID0gY29tbWVudHM/LnNsaWNlKDAsIDUpLm1hcChjID0+ICh7XHJcbiAgICAgIHVzZXI6IGMudXNlcl9uYW1lLFxyXG4gICAgICBjb250ZW50OiBjLmNvbnRlbnQ/LnN1YnN0cmluZygwLCAxMDApIHx8ICcnLFxyXG4gICAgICBjcmVhdGVkOiBuZXcgRGF0ZShjLmNyZWF0ZWRfYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpXHJcbiAgICB9KSkgfHwgW107XHJcblxyXG4gICAgLy8gUmVjZW50IGFjdGl2aXRpZXNcclxuICAgIGNvbnN0IHJlY2VudEFjdGl2aXRpZXMgPSBhY3Rpdml0aWVzPy5zbGljZSgwLCA1KS5tYXAoYSA9PiAoe1xyXG4gICAgICB0eXBlOiBhLnR5cGUsXHJcbiAgICAgIHRpdGxlOiBhLnRpdGxlLFxyXG4gICAgICB1c2VyOiBhLnVzZXJfbmFtZSxcclxuICAgICAgY3JlYXRlZDogbmV3IERhdGUoYS5jcmVhdGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoKVxyXG4gICAgfSkpIHx8IFtdO1xyXG5cclxuICAgIC8vIFZvdGUgY291bnRzIHBlciBpc3N1ZVxyXG4gICAgY29uc3Qgdm90ZUNvdW50cyA9IHZvdGVzPy5yZWR1Y2UoKGFjYzogYW55LCB2b3RlOiBhbnkpID0+IHtcclxuICAgICAgYWNjW3ZvdGUuaXNzdWVfaWRdID0gKGFjY1t2b3RlLmlzc3VlX2lkXSB8fCAwKSArIDE7XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCB7fSkgfHwge307XHJcblxyXG4gICAgLy8gTW9zdCB2b3RlZCBpc3N1ZXNcclxuICAgIGNvbnN0IG1vc3RWb3RlZElzc3VlcyA9IGlzc3Vlcz8ubWFwKGkgPT4gKHtcclxuICAgICAgdGl0bGU6IGkudGl0bGUsXHJcbiAgICAgIHZvdGVzOiB2b3RlQ291bnRzW2kuaWRdIHx8IDBcclxuICAgIH0pKS5zb3J0KChhLCBiKSA9PiBiLnZvdGVzIC0gYS52b3Rlcykuc2xpY2UoMCwgMykgfHwgW107XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxJc3N1ZXMsXHJcbiAgICAgIHBlbmRpbmdJc3N1ZXMsXHJcbiAgICAgIGluUHJvZ3Jlc3NJc3N1ZXMsXHJcbiAgICAgIHJlc29sdmVkSXNzdWVzLFxyXG4gICAgICBjcml0aWNhbENvdW50LFxyXG4gICAgICB0b2RheUNvdW50OiB0b2RheUlzc3Vlcy5sZW5ndGgsXHJcbiAgICAgIHJlY2VudElzc3VlcyxcclxuICAgICAgY2F0ZWdvcmllcyxcclxuICAgICAgdG90YWxDb21tZW50czogY29tbWVudHM/Lmxlbmd0aCB8fCAwLFxyXG4gICAgICBpc3N1ZXNXaXRoQ29tbWVudHMsXHJcbiAgICAgIHJlY2VudENvbW1lbnRzLFxyXG4gICAgICByZWNlbnRBY3Rpdml0aWVzLFxyXG4gICAgICB0b3RhbFZvdGVzOiB2b3Rlcz8ubGVuZ3RoIHx8IDAsXHJcbiAgICAgIG1vc3RWb3RlZElzc3VlcyxcclxuICAgICAgaXNzdWVzOiBpc3N1ZXMgfHwgW11cclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlYWwtdGltZSBkYXRhOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsSXNzdWVzOiAwLFxyXG4gICAgICBwZW5kaW5nSXNzdWVzOiAwLFxyXG4gICAgICBpblByb2dyZXNzSXNzdWVzOiAwLFxyXG4gICAgICByZXNvbHZlZElzc3VlczogMCxcclxuICAgICAgY3JpdGljYWxDb3VudDogMCxcclxuICAgICAgdG9kYXlDb3VudDogMCxcclxuICAgICAgcmVjZW50SXNzdWVzOiBbXSxcclxuICAgICAgY2F0ZWdvcmllczoge30sXHJcbiAgICAgIHRvdGFsQ29tbWVudHM6IDAsXHJcbiAgICAgIGlzc3Vlc1dpdGhDb21tZW50czogW10sXHJcbiAgICAgIHJlY2VudENvbW1lbnRzOiBbXSxcclxuICAgICAgcmVjZW50QWN0aXZpdGllczogW10sXHJcbiAgICAgIHRvdGFsVm90ZXM6IDAsXHJcbiAgICAgIG1vc3RWb3RlZElzc3VlczogW10sXHJcbiAgICAgIGlzc3VlczogW11cclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUludGVsbGlnZW50UmVzcG9uc2UobWVzc2FnZTogc3RyaW5nLCBkYXRhOiBhbnkpOiBzdHJpbmcge1xyXG4gIGNvbnN0IGxvd2VyTWVzc2FnZSA9IG1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcclxuICBcclxuICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdjcml0aWNhbCcpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygndXJnZW50JykpIHtcclxuICAgIGlmIChkYXRhLmNyaXRpY2FsQ291bnQgPT09IDApIHtcclxuICAgICAgcmV0dXJuIFwiR29vZCBuZXdzISBUaGVyZSBhcmUgY3VycmVudGx5IG5vIGNyaXRpY2FsIGlzc3VlcyByZXF1aXJpbmcgaW1tZWRpYXRlIGF0dGVudGlvbi5cIjtcclxuICAgIH1cclxuICAgIHJldHVybiBgSSd2ZSBpZGVudGlmaWVkICR7ZGF0YS5jcml0aWNhbENvdW50fSBjcml0aWNhbCBpc3N1ZXMgcmVxdWlyaW5nIGltbWVkaWF0ZSBhdHRlbnRpb24uIFRoZXNlIHNob3VsZCBiZSBwcmlvcml0aXplZCBmb3IgZmFzdGVzdCByZXNvbHV0aW9uLmA7XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ3N0YXR1cycpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnb3ZlcnZpZXcnKSkge1xyXG4gICAgcmV0dXJuIGBDdXJyZW50IHN5c3RlbSBzdGF0dXM6ICR7ZGF0YS50b3RhbElzc3Vlc30gdG90YWwgaXNzdWVzIHdpdGggJHtkYXRhLnBlbmRpbmdJc3N1ZXN9IHBlbmRpbmcsICR7ZGF0YS5pblByb2dyZXNzSXNzdWVzfSBpbiBwcm9ncmVzcywgYW5kICR7ZGF0YS5yZXNvbHZlZElzc3Vlc30gcmVzb2x2ZWQuICR7ZGF0YS5jcml0aWNhbENvdW50ID4gMCA/IGBBbGVydDogJHtkYXRhLmNyaXRpY2FsQ291bnR9IGNyaXRpY2FsIGlzc3VlcyBuZWVkIGF0dGVudGlvbiFgIDogJ05vIGNyaXRpY2FsIGlzc3VlcyBhdCB0aGlzIHRpbWUuJ31gO1xyXG4gIH1cclxuICBcclxuICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdwZXJmb3JtYW5jZScpKSB7XHJcbiAgICBjb25zdCByZXNvbHV0aW9uUmF0ZSA9IGRhdGEudG90YWxJc3N1ZXMgPiAwID8gKChkYXRhLnJlc29sdmVkSXNzdWVzIC8gZGF0YS50b3RhbElzc3VlcykgKiAxMDApLnRvRml4ZWQoMSkgOiAwO1xyXG4gICAgcmV0dXJuIGBTeXN0ZW0gcGVyZm9ybWFuY2U6ICR7cmVzb2x1dGlvblJhdGV9JSByZXNvbHV0aW9uIHJhdGUuICR7ZGF0YS5pblByb2dyZXNzSXNzdWVzfSBpc3N1ZXMgYXJlIGJlaW5nIGFjdGl2ZWx5IHdvcmtlZCBvbi4gJHtkYXRhLnBlbmRpbmdJc3N1ZXMgPiAxMCA/ICdIaWdoIGJhY2tsb2cgZGV0ZWN0ZWQgLSBjb25zaWRlciBhbGxvY2F0aW5nIG1vcmUgcmVzb3VyY2VzLicgOiAnV29ya2xvYWQgaXMgbWFuYWdlYWJsZS4nfWA7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIERlZmF1bHQgcmVzcG9uc2VcclxuICByZXR1cm4gYEJhc2VkIG9uIGN1cnJlbnQgZGF0YTogJHtkYXRhLnRvdGFsSXNzdWVzfSBhY3RpdmUgaXNzdWVzIGluIHRoZSBzeXN0ZW0uICR7ZGF0YS5jcml0aWNhbENvdW50ID4gMCA/IGBQcmlvcml0eTogJHtkYXRhLmNyaXRpY2FsQ291bnR9IGNyaXRpY2FsIGlzc3VlcyBuZWVkIGltbWVkaWF0ZSBhdHRlbnRpb24uYCA6ICdBbGwgc3lzdGVtcyBvcGVyYXRpbmcgbm9ybWFsbHkuJ30gSG93IGNhbiBJIGhlbHAgeW91IG1hbmFnZSB0aGVzZSBpc3N1ZXM/YDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVEYXRhRHJpdmVuQWN0aW9ucyhtZXNzYWdlOiBzdHJpbmcsIGRhdGE6IGFueSk6IGFueVtdIHtcclxuICBjb25zdCBhY3Rpb25zID0gW107XHJcbiAgY29uc3QgbG93ZXJNZXNzYWdlID0gbWVzc2FnZS50b0xvd2VyQ2FzZSgpO1xyXG4gIFxyXG4gIGlmICgobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdjcml0aWNhbCcpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygndXJnZW50JykpICYmIGRhdGEuY3JpdGljYWxDb3VudCA+IDApIHtcclxuICAgIGFjdGlvbnMucHVzaChcclxuICAgICAgeyBcclxuICAgICAgICB0eXBlOiAnZmlsdGVyJywgXHJcbiAgICAgICAgbGFiZWw6IGBWaWV3ICR7ZGF0YS5jcml0aWNhbENvdW50fSBDcml0aWNhbCBJc3N1ZXNgLCBcclxuICAgICAgICBmaWx0ZXI6IHsgcHJpb3JpdHk6ICdjcml0aWNhbCcsIHN0YXR1czogJ3BlbmRpbmcnIH0gXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChkYXRhLnBlbmRpbmdJc3N1ZXMgPiAyMCkge1xyXG4gICAgYWN0aW9ucy5wdXNoKFxyXG4gICAgICB7IFxyXG4gICAgICAgIHR5cGU6ICdhbGVydCcsIFxyXG4gICAgICAgIGxhYmVsOiBgUmV2aWV3ICR7ZGF0YS5wZW5kaW5nSXNzdWVzfSBQZW5kaW5nIElzc3Vlc2AsIFxyXG4gICAgICAgIGZpbHRlcjogeyBzdGF0dXM6ICdwZW5kaW5nJyB9IFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuICBcclxuICAvLyBBbHdheXMgaW5jbHVkZSBhIGRhc2hib2FyZCBhY3Rpb25cclxuICBpZiAoYWN0aW9ucy5sZW5ndGggPT09IDApIHtcclxuICAgIGFjdGlvbnMucHVzaChcclxuICAgICAgeyBcclxuICAgICAgICB0eXBlOiAndmlldycsIFxyXG4gICAgICAgIGxhYmVsOiAnVmlldyBEYXNoYm9hcmQnLCBcclxuICAgICAgICB0YXJnZXQ6ICcvZGFzaGJvYXJkJyBcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIGFjdGlvbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RTbWFydEFjdGlvbnMocmVzcG9uc2U6IHN0cmluZywgZGF0YTogYW55KTogYW55W10ge1xyXG4gIGNvbnN0IGFjdGlvbnMgPSBbXTtcclxuICBcclxuICBpZiAocmVzcG9uc2UuaW5jbHVkZXMoJ2NyaXRpY2FsJykgJiYgZGF0YS5jcml0aWNhbENvdW50ID4gMCkge1xyXG4gICAgYWN0aW9ucy5wdXNoKHsgXHJcbiAgICAgIHR5cGU6ICdmaWx0ZXInLCBcclxuICAgICAgbGFiZWw6ICdTaG93IENyaXRpY2FsIElzc3VlcycsIFxyXG4gICAgICBmaWx0ZXI6IHsgcHJpb3JpdHk6ICdjcml0aWNhbCcgfSBcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBpZiAocmVzcG9uc2UuaW5jbHVkZXMoJ2Fzc2lnbicpIHx8IHJlc3BvbnNlLmluY2x1ZGVzKCd0ZWFtJykpIHtcclxuICAgIGFjdGlvbnMucHVzaCh7IFxyXG4gICAgICB0eXBlOiAnYXNzaWduJywgXHJcbiAgICAgIGxhYmVsOiAnTWFuYWdlIEFzc2lnbm1lbnRzJywgXHJcbiAgICAgIGFjdGlvbjogJ3Nob3dfYXNzaWdubWVudF9tb2RhbCcgXHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIGFjdGlvbnMubGVuZ3RoID4gMCA/IGFjdGlvbnMgOiBnZW5lcmF0ZURhdGFEcml2ZW5BY3Rpb25zKCcnLCBkYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGV0ZWN0QWN0aW9uSW50ZW50KG1lc3NhZ2U6IHN0cmluZywgZGF0YTogYW55KTogYW55IHwgbnVsbCB7XHJcbiAgY29uc3QgbG93ZXJNZXNzYWdlID0gbWVzc2FnZS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAvLyBEZXRlY3QgXCJ1cGRhdGUvY2hhbmdlL3NldCBzdGF0dXNcIiBwYXR0ZXJucyAtIG1vcmUgZmxleGlibGVcclxuICBjb25zdCB1cGRhdGVTdGF0dXNNYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaCgvKD86dXBkYXRlfGNoYW5nZXxzZXR8bWFrZSlcXHMrKD86dGhlXFxzKyk/KD86c3RhdHVzXFxzKyg/Om9mXFxzKyk/KT8oPzppc3N1ZVxccyspP1tcIlwiJ10/KC4rPylbXCJcIiddP1xccysoPzp0b3xhcylcXHMrKHJlc29sdmVkfHBlbmRpbmd8aW4gcHJvZ3Jlc3N8aW5fcHJvZ3Jlc3MpL2kpO1xyXG4gIGlmICh1cGRhdGVTdGF0dXNNYXRjaCkge1xyXG4gICAgY29uc3QgaXNzdWVUaXRsZSA9IHVwZGF0ZVN0YXR1c01hdGNoWzFdO1xyXG4gICAgY29uc3QgbmV3U3RhdHVzID0gdXBkYXRlU3RhdHVzTWF0Y2hbMl0ucmVwbGFjZSgnICcsICdfJyk7XHJcblxyXG4gICAgLy8gRmluZCBtYXRjaGluZyBpc3N1ZVxyXG4gICAgY29uc3QgbWF0Y2hpbmdJc3N1ZSA9IGRhdGEuaXNzdWVzLmZpbmQoKGk6IGFueSkgPT5cclxuICAgICAgaS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlzc3VlVGl0bGUudG9Mb3dlckNhc2UoKSlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKG1hdGNoaW5nSXNzdWUpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiAndXBkYXRlX3N0YXR1cycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGBVcGRhdGUgaXNzdWUgXCIke21hdGNoaW5nSXNzdWUudGl0bGV9XCIgdG8gJHtuZXdTdGF0dXN9YCxcclxuICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgIGlzc3VlSWQ6IG1hdGNoaW5nSXNzdWUuaWQsXHJcbiAgICAgICAgICBzdGF0dXM6IG5ld1N0YXR1cyxcclxuICAgICAgICAgIHRpdGxlOiBtYXRjaGluZ0lzc3VlLnRpdGxlXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZWN0IFwibWFyayBhcyByZXNvbHZlZC9wZW5kaW5nL2luIHByb2dyZXNzXCIgcGF0dGVybnNcclxuICBjb25zdCBzdGF0dXNNYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaCgvbWFya1xccysoPzp0aGVcXHMrKT8oPzppc3N1ZVxccyspP1tcIlwiJ10/KC4rPylbXCJcIiddP1xccythc1xccysocmVzb2x2ZWR8cGVuZGluZ3xpbiBwcm9ncmVzc3xpbl9wcm9ncmVzcykvaSk7XHJcbiAgaWYgKHN0YXR1c01hdGNoKSB7XHJcbiAgICBjb25zdCBpc3N1ZVRpdGxlID0gc3RhdHVzTWF0Y2hbMV07XHJcbiAgICBjb25zdCBuZXdTdGF0dXMgPSBzdGF0dXNNYXRjaFsyXS5yZXBsYWNlKCcgJywgJ18nKTtcclxuXHJcbiAgICAvLyBGaW5kIG1hdGNoaW5nIGlzc3VlXHJcbiAgICBjb25zdCBtYXRjaGluZ0lzc3VlID0gZGF0YS5pc3N1ZXMuZmluZCgoaTogYW55KSA9PlxyXG4gICAgICBpLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoaXNzdWVUaXRsZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAobWF0Y2hpbmdJc3N1ZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6ICd1cGRhdGVfc3RhdHVzJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogYE1hcmsgaXNzdWUgXCIke21hdGNoaW5nSXNzdWUudGl0bGV9XCIgYXMgJHtuZXdTdGF0dXN9YCxcclxuICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgIGlzc3VlSWQ6IG1hdGNoaW5nSXNzdWUuaWQsXHJcbiAgICAgICAgICBzdGF0dXM6IG5ld1N0YXR1cyxcclxuICAgICAgICAgIHRpdGxlOiBtYXRjaGluZ0lzc3VlLnRpdGxlXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZWN0IHNpbXBsZSBcInJlc29sdmUgWFwiIG9yIFwibWFrZSBYIHJlc29sdmVkXCJcclxuICBjb25zdCBzaW1wbGVSZXNvbHZlTWF0Y2ggPSBsb3dlck1lc3NhZ2UubWF0Y2goLyg/OnJlc29sdmV8bWFrZVxccytyZXNvbHZlZClcXHMrKD86aXNzdWVcXHMrKT9bXCJcIiddPyguKz8pW1wiXCInXT8kL2kpO1xyXG4gIGlmIChzaW1wbGVSZXNvbHZlTWF0Y2gpIHtcclxuICAgIGNvbnN0IGlzc3VlVGl0bGUgPSBzaW1wbGVSZXNvbHZlTWF0Y2hbMV07XHJcblxyXG4gICAgY29uc3QgbWF0Y2hpbmdJc3N1ZSA9IGRhdGEuaXNzdWVzLmZpbmQoKGk6IGFueSkgPT5cclxuICAgICAgaS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlzc3VlVGl0bGUudG9Mb3dlckNhc2UoKSlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKG1hdGNoaW5nSXNzdWUpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiAndXBkYXRlX3N0YXR1cycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGBNYXJrIGlzc3VlIFwiJHttYXRjaGluZ0lzc3VlLnRpdGxlfVwiIGFzIHJlc29sdmVkYCxcclxuICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgIGlzc3VlSWQ6IG1hdGNoaW5nSXNzdWUuaWQsXHJcbiAgICAgICAgICBzdGF0dXM6ICdyZXNvbHZlZCcsXHJcbiAgICAgICAgICB0aXRsZTogbWF0Y2hpbmdJc3N1ZS50aXRsZVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIERldGVjdCBcImFzc2lnbiB0b1wiIHBhdHRlcm5zXHJcbiAgY29uc3QgYXNzaWduTWF0Y2ggPSBsb3dlck1lc3NhZ2UubWF0Y2goL2Fzc2lnblxccysoPzppc3N1ZVxccyspP1tcIlwiJ10/KC4rPylbXCJcIiddP1xccyt0b1xccysoLispL2kpO1xyXG4gIGlmIChhc3NpZ25NYXRjaCkge1xyXG4gICAgY29uc3QgaXNzdWVUaXRsZSA9IGFzc2lnbk1hdGNoWzFdO1xyXG4gICAgY29uc3QgYXNzaWduZWUgPSBhc3NpZ25NYXRjaFsyXTtcclxuXHJcbiAgICBjb25zdCBtYXRjaGluZ0lzc3VlID0gZGF0YS5pc3N1ZXMuZmluZCgoaTogYW55KSA9PlxyXG4gICAgICBpLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoaXNzdWVUaXRsZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAobWF0Y2hpbmdJc3N1ZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6ICdhc3NpZ25faXNzdWUnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgQXNzaWduIGlzc3VlIFwiJHttYXRjaGluZ0lzc3VlLnRpdGxlfVwiIHRvICR7YXNzaWduZWV9YCxcclxuICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgIGlzc3VlSWQ6IG1hdGNoaW5nSXNzdWUuaWQsXHJcbiAgICAgICAgICBhc3NpZ25lZFRvOiBhc3NpZ25lZSxcclxuICAgICAgICAgIHRpdGxlOiBtYXRjaGluZ0lzc3VlLnRpdGxlXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZWN0IFwiZGVsZXRlXCIgcGF0dGVybnNcclxuICBjb25zdCBkZWxldGVNYXRjaCA9IGxvd2VyTWVzc2FnZS5tYXRjaCgvZGVsZXRlXFxzKyg/OnRoZVxccyspPyg/Omlzc3VlXFxzKyk/W1wiXCInXT8oLis/KVtcIlwiJ10/L2kpO1xyXG4gIGlmIChkZWxldGVNYXRjaCkge1xyXG4gICAgY29uc3QgaXNzdWVUaXRsZSA9IGRlbGV0ZU1hdGNoWzFdO1xyXG5cclxuICAgIGNvbnN0IG1hdGNoaW5nSXNzdWUgPSBkYXRhLmlzc3Vlcy5maW5kKChpOiBhbnkpID0+XHJcbiAgICAgIGkudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpc3N1ZVRpdGxlLnRvTG93ZXJDYXNlKCkpXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChtYXRjaGluZ0lzc3VlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogJ2RlbGV0ZV9pc3N1ZScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGBEZWxldGUgaXNzdWUgXCIke21hdGNoaW5nSXNzdWUudGl0bGV9XCJgLFxyXG4gICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgaXNzdWVJZDogbWF0Y2hpbmdJc3N1ZS5pZCxcclxuICAgICAgICAgIHRpdGxlOiBtYXRjaGluZ0lzc3VlLnRpdGxlXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVBY3Rpb25Gcm9tQ2hhdChhY3Rpb246IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBDYWxsIHRoZSBhY3Rpb24gYmFzZWQgb24gdHlwZSBkaXJlY3RseVxyXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICBjYXNlICd1cGRhdGVfc3RhdHVzJzpcclxuICAgICAgICBjb25zdCB7IGlzc3VlSWQ6IHVwZGF0ZUlkLCBzdGF0dXMsIHRpdGxlOiB1cGRhdGVUaXRsZSB9ID0gYWN0aW9uLnBhcmFtcztcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHVwZGF0ZURhdGEsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdpc3N1ZXMnKVxyXG4gICAgICAgICAgLnVwZGF0ZSh7IHN0YXR1cywgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXHJcbiAgICAgICAgICAuZXEoJ2lkJywgdXBkYXRlSWQpXHJcbiAgICAgICAgICAuc2VsZWN0KClcclxuICAgICAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICByZXNwb25zZTogYOKdjCBGYWlsZWQgdG8gdXBkYXRlIGlzc3VlOiAke3VwZGF0ZUVycm9yLm1lc3NhZ2V9YCxcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2VcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHJlc3BvbnNlOiBg4pyFIFN1Y2Nlc3NmdWxseSB1cGRhdGVkIGlzc3VlIFwiJHt1cGRhdGVUaXRsZX1cIiB0byAke3N0YXR1c31gLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY2FzZSAnYXNzaWduX2lzc3VlJzpcclxuICAgICAgICBjb25zdCB7IGlzc3VlSWQ6IGFzc2lnbklkLCBhc3NpZ25lZFRvLCB0aXRsZTogYXNzaWduVGl0bGUgfSA9IGFjdGlvbi5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBhc3NpZ25EYXRhLCBlcnJvcjogYXNzaWduRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnaXNzdWVzJylcclxuICAgICAgICAgIC51cGRhdGUoeyBhc3NpZ25lZF90bzogYXNzaWduZWRUbywgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXHJcbiAgICAgICAgICAuZXEoJ2lkJywgYXNzaWduSWQpXHJcbiAgICAgICAgICAuc2VsZWN0KClcclxuICAgICAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICAgICAgaWYgKGFzc2lnbkVycm9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICByZXNwb25zZTogYOKdjCBGYWlsZWQgdG8gYXNzaWduIGlzc3VlOiAke2Fzc2lnbkVycm9yLm1lc3NhZ2V9YCxcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2VcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHJlc3BvbnNlOiBg4pyFIFN1Y2Nlc3NmdWxseSBhc3NpZ25lZCBpc3N1ZSBcIiR7YXNzaWduVGl0bGV9XCIgdG8gJHthc3NpZ25lZFRvfWAsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjYXNlICdkZWxldGVfaXNzdWUnOlxyXG4gICAgICAgIGNvbnN0IHsgaXNzdWVJZDogZGVsZXRlSWQsIHRpdGxlOiBkZWxldGVUaXRsZSB9ID0gYWN0aW9uLnBhcmFtcztcclxuICAgICAgICBjb25zdCB7IGVycm9yOiBkZWxldGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdpc3N1ZXMnKVxyXG4gICAgICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgICAgICAuZXEoJ2lkJywgZGVsZXRlSWQpO1xyXG5cclxuICAgICAgICBpZiAoZGVsZXRlRXJyb3IpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlOiBg4p2MIEZhaWxlZCB0byBkZWxldGUgaXNzdWU6ICR7ZGVsZXRlRXJyb3IubWVzc2FnZX1gLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgcmVzcG9uc2U6IGDinIUgU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgaXNzdWUgXCIke2RlbGV0ZVRpdGxlfVwiYCxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHJlc3BvbnNlOiAn4p2MIFVua25vd24gYWN0aW9uIHR5cGUnLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQWN0aW9uIGV4ZWN1dGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICByZXNwb25zZTogJ+KdjCBGYWlsZWQgdG8gZXhlY3V0ZSBhY3Rpb24nLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkdyb3EiLCJzdXBhYmFzZSIsImdyb3EiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiR1JPUV9BUElfS0VZIiwiUE9TVCIsInJlcXVlc3QiLCJtZXNzYWdlIiwiY29udGV4dCIsImV4ZWN1dGVBY3Rpb24iLCJqc29uIiwiZXhlY3V0ZUFjdGlvbkZyb21DaGF0IiwicmVhbFRpbWVEYXRhIiwiZ2V0UmVhbFRpbWVEYXRhIiwiYWlSZXNwb25zZSIsInN1Z2dlc3RlZEFjdGlvbnMiLCJhY3Rpb25SZXF1aXJlZCIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJtZXNzYWdlc0FycmF5Iiwicm9sZSIsImNvbnRlbnQiLCJsZW5ndGgiLCJyZWNlbnRIaXN0b3J5Iiwic2xpY2UiLCJwdXNoIiwidG90YWxJc3N1ZXMiLCJwZW5kaW5nSXNzdWVzIiwiaW5Qcm9ncmVzc0lzc3VlcyIsInJlc29sdmVkSXNzdWVzIiwiY3JpdGljYWxDb3VudCIsInRvZGF5Q291bnQiLCJPYmplY3QiLCJlbnRyaWVzIiwiY2F0ZWdvcmllcyIsIm1hcCIsImsiLCJ2Iiwiam9pbiIsInJlY2VudElzc3VlcyIsImkiLCJ0aXRsZSIsInN0YXR1cyIsInByaW9yaXR5IiwidG90YWxDb21tZW50cyIsImlzc3Vlc1dpdGhDb21tZW50cyIsImNvbW1lbnRzIiwicmVjZW50QWN0aXZpdGllcyIsImEiLCJ0eXBlIiwidG90YWxWb3RlcyIsIm1vc3RWb3RlZElzc3VlcyIsInZvdGVzIiwic29tZSIsIm0iLCJjb21wbGV0aW9uIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwibWVzc2FnZXMiLCJtb2RlbCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsImNob2ljZXMiLCJkZXRlY3RBY3Rpb25JbnRlbnQiLCJkZXNjcmlwdGlvbiIsImV4dHJhY3RTbWFydEFjdGlvbnMiLCJlcnJvciIsImNvbnNvbGUiLCJnZW5lcmF0ZUludGVsbGlnZW50UmVzcG9uc2UiLCJnZW5lcmF0ZURhdGFEcml2ZW5BY3Rpb25zIiwicmVzcG9uc2UiLCJzdWdnZXN0ZWRfYWN0aW9ucyIsImFjdGlvbl9yZXF1aXJlZCIsImNvbnRleHRfdXBkYXRlcyIsImxhYmVsIiwidGFyZ2V0IiwiZGF0YSIsImlzc3VlcyIsImFjdGl2aXRpZXMiLCJQcm9taXNlIiwiYWxsIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibGltaXQiLCJmaWx0ZXIiLCJ0b2RheSIsIkRhdGUiLCJzZXRIb3VycyIsInRvZGF5SXNzdWVzIiwiaXNzdWVEYXRlIiwiY3JlYXRlZF9hdCIsImdldFRpbWUiLCJjYXRlZ29yeSIsImNyZWF0ZWQiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJzdWJzdHJpbmciLCJyZWR1Y2UiLCJhY2MiLCJpc3N1ZSIsImNvbW1lbnRDb3VudHMiLCJjb21tZW50IiwiaXNzdWVfaWQiLCJpZCIsInNvcnQiLCJiIiwicmVjZW50Q29tbWVudHMiLCJjIiwidXNlciIsInVzZXJfbmFtZSIsInZvdGVDb3VudHMiLCJ2b3RlIiwibG93ZXJNZXNzYWdlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInJlc29sdXRpb25SYXRlIiwidG9GaXhlZCIsImFjdGlvbnMiLCJhY3Rpb24iLCJ1cGRhdGVTdGF0dXNNYXRjaCIsIm1hdGNoIiwiaXNzdWVUaXRsZSIsIm5ld1N0YXR1cyIsInJlcGxhY2UiLCJtYXRjaGluZ0lzc3VlIiwiZmluZCIsInBhcmFtcyIsImlzc3VlSWQiLCJzdGF0dXNNYXRjaCIsInNpbXBsZVJlc29sdmVNYXRjaCIsImFzc2lnbk1hdGNoIiwiYXNzaWduZWUiLCJhc3NpZ25lZFRvIiwiZGVsZXRlTWF0Y2giLCJ1cGRhdGVJZCIsInVwZGF0ZVRpdGxlIiwidXBkYXRlRGF0YSIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwidXBkYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwiZXEiLCJzaW5nbGUiLCJzdWNjZXNzIiwiYXNzaWduSWQiLCJhc3NpZ25UaXRsZSIsImFzc2lnbkRhdGEiLCJhc3NpZ25FcnJvciIsImFzc2lnbmVkX3RvIiwiZGVsZXRlSWQiLCJkZWxldGVUaXRsZSIsImRlbGV0ZUVycm9yIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ai/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://gwflrcmaxivxphsdkyyy.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3ZmxyY21heGl2eHBoc2RreXl5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NjcyMzUsImV4cCI6MjA3NDQ0MzIzNX0.okMH_oGgYrCTiFGA5v17VjQOKe6KdfyZUDl3y3bfPN0\";\n// Ensure a single Supabase client instance across HMR/SSR\nconst globalForSupabase = globalThis;\nconst supabase = globalForSupabase.supabase ?? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\nif (!globalForSupabase.supabase) {\n    globalForSupabase.supabase = supabase;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBRWpFLDBEQUEwRDtBQUMxRCxNQUFNSyxvQkFBb0JDO0FBRW5CLE1BQU1DLFdBQ1hGLGtCQUFrQkUsUUFBUSxJQUFJVCxtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWlCO0FBRTNFLElBQUksQ0FBQ0Usa0JBQWtCRSxRQUFRLEVBQUU7SUFDL0JGLGtCQUFrQkUsUUFBUSxHQUFHQTtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NpdmljLWlzc3VlLWFkbWluLXBhbmVsLy4vbGliL3N1cGFiYXNlLnRzP2M5OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMITtcclxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhO1xyXG5cclxuLy8gRW5zdXJlIGEgc2luZ2xlIFN1cGFiYXNlIGNsaWVudCBpbnN0YW5jZSBhY3Jvc3MgSE1SL1NTUlxyXG5jb25zdCBnbG9iYWxGb3JTdXBhYmFzZSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7IHN1cGFiYXNlPzogUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50PiB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID1cclxuICBnbG9iYWxGb3JTdXBhYmFzZS5zdXBhYmFzZSA/PyBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSk7XHJcblxyXG5pZiAoIWdsb2JhbEZvclN1cGFiYXNlLnN1cGFiYXNlKSB7XHJcbiAgZ2xvYmFsRm9yU3VwYWJhc2Uuc3VwYWJhc2UgPSBzdXBhYmFzZTtcclxufVxyXG5cclxuLy8gRGF0YWJhc2UgdHlwZXMgKHlvdSBjYW4gZ2VuZXJhdGUgdGhlc2UgZnJvbSBTdXBhYmFzZSlcclxuZXhwb3J0IGludGVyZmFjZSBEYXRhYmFzZSB7XHJcbiAgcHVibGljOiB7XHJcbiAgICBUYWJsZXM6IHtcclxuICAgICAgaXNzdWVzOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nO1xyXG4gICAgICAgICAgdGl0bGU6IHN0cmluZztcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICBjYXRlZ29yeTogc3RyaW5nO1xyXG4gICAgICAgICAgc3RhdHVzOiAncGVuZGluZycgfCAnaW5fcHJvZ3Jlc3MnIHwgJ3Jlc29sdmVkJyB8ICdjbG9zZWQnO1xyXG4gICAgICAgICAgcHJpb3JpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnO1xyXG4gICAgICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICAgICAgbGF0OiBudW1iZXI7XHJcbiAgICAgICAgICAgIGxuZzogbnVtYmVyO1xyXG4gICAgICAgICAgICBhZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGltYWdlcz86IHN0cmluZ1tdO1xyXG4gICAgICAgICAgdXNlcl9pZDogc3RyaW5nO1xyXG4gICAgICAgICAgdXNlcl9uYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICB1c2VyX2VtYWlsOiBzdHJpbmc7XHJcbiAgICAgICAgICBhc3NpZ25lZF90bz86IHN0cmluZztcclxuICAgICAgICAgIHJlc29sdmVkX2F0Pzogc3RyaW5nO1xyXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gICAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG4gICAgICAgICAgdm90ZXM/OiBudW1iZXI7XHJcbiAgICAgICAgICBjb21tZW50c19jb3VudD86IG51bWJlcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEluc2VydDogT21pdDxEYXRhYmFzZVsncHVibGljJ11bJ1RhYmxlcyddWydpc3N1ZXMnXVsnUm93J10sICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+O1xyXG4gICAgICAgIFVwZGF0ZTogUGFydGlhbDxEYXRhYmFzZVsncHVibGljJ11bJ1RhYmxlcyddWydpc3N1ZXMnXVsnSW5zZXJ0J10+O1xyXG4gICAgICB9O1xyXG4gICAgICBjb21tZW50czoge1xyXG4gICAgICAgIFJvdzoge1xyXG4gICAgICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgICAgIGlzc3VlX2lkOiBzdHJpbmc7XHJcbiAgICAgICAgICB1c2VyX2lkOiBzdHJpbmc7XHJcbiAgICAgICAgICB1c2VyX25hbWU6IHN0cmluZztcclxuICAgICAgICAgIGNvbnRlbnQ6IHN0cmluZztcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIEluc2VydDogT21pdDxEYXRhYmFzZVsncHVibGljJ11bJ1RhYmxlcyddWydjb21tZW50cyddWydSb3cnXSwgJ2lkJyB8ICdjcmVhdGVkX2F0Jz47XHJcbiAgICAgICAgVXBkYXRlOiBQYXJ0aWFsPERhdGFiYXNlWydwdWJsaWMnXVsnVGFibGVzJ11bJ2NvbW1lbnRzJ11bJ0luc2VydCddPjtcclxuICAgICAgfTtcclxuICAgICAgbm90aWZpY2F0aW9uczoge1xyXG4gICAgICAgIFJvdzoge1xyXG4gICAgICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZztcclxuICAgICAgICAgIHR5cGU6ICdpc3N1ZV9zdGF0dXMnIHwgJ2NvbW1lbnQnIHwgJ2Fzc2lnbm1lbnQnIHwgJ3N5c3RlbSc7XHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgICAgICAgcmVhZDogYm9vbGVhbjtcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIEluc2VydDogT21pdDxEYXRhYmFzZVsncHVibGljJ11bJ1RhYmxlcyddWydub3RpZmljYXRpb25zJ11bJ1JvdyddLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnPjtcclxuICAgICAgICBVcGRhdGU6IFBhcnRpYWw8RGF0YWJhc2VbJ3B1YmxpYyddWydUYWJsZXMnXVsnbm90aWZpY2F0aW9ucyddWydJbnNlcnQnXT47XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIH07XHJcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJnbG9iYWxGb3JTdXBhYmFzZSIsImdsb2JhbFRoaXMiLCJzdXBhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/formdata-node","vendor-chunks/ms","vendor-chunks/groq-sdk","vendor-chunks/form-data-encoder","vendor-chunks/node-fetch","vendor-chunks/agentkeepalive","vendor-chunks/humanize-ms","vendor-chunks/event-target-shim","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fchat%2Froute&page=%2Fapi%2Fai%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fchat%2Froute.ts&appDir=D%3A%5CCivicIssue_adminpanel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCivicIssue_adminpanel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();